{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Bar-PC\\\\Desktop\\\\sprint 4\\\\src\\\\pages\\\\Dashboard.jsx\";\nimport { Component } from 'react';\nimport { DashHeader } from '../cmps/dashboard/DashHeader';\nimport { MyPlaces } from '../cmps/dashboard/MyPlaces';\nimport { FinanceStatistic } from '../cmps/dashboard/FinanceStatistic';\nimport { RateStatistic } from '../cmps/dashboard/RateStatistic';\nimport { StayEdit } from '../cmps/dashboard/SaveStay';\nimport { connect } from 'react-redux';\nimport { loadHostStays, removeStay } from '../store/actions/stayActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class _Dashboard extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      action: '',\n      loggedInUser: null,\n      selsctedEditStay: null\n    };\n\n    this.onSelectAction = ev => {\n      const action = ev.target.value;\n      this.setState({\n        action\n      });\n    };\n\n    this.onSelectedEditStay = stay => {\n      this.setState({\n        selsctedEditStay: stay\n      }, () => {\n        this.setState({\n          action: 'add stay'\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      loggedInUser: { ...this.props.loggedInUser,\n        isHost: true\n      }\n    }, () => {\n      this.props.updateUser(this.state.loggedInUser);\n      this.props.loadHostStays(this.state.loggedInUser._id);\n    });\n  }\n\n  render() {\n    const {\n      action,\n      loggedInUser,\n      selsctedEditStay\n    } = this.state;\n    const {\n      removeStay,\n      stays,\n      toggleMsgModal\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"dashboard-container page\",\n      children: [/*#__PURE__*/_jsxDEV(DashHeader, {\n        onSelectAction: this.onSelectAction\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), (action === '' || action === 'my places') && /*#__PURE__*/_jsxDEV(MyPlaces, {\n        stays: stays,\n        removeStay: removeStay,\n        toggleMsgModal: toggleMsgModal,\n        onSelectedEditStay: this.onSelectedEditStay\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 63\n      }, this), action === 'finance stat' && /*#__PURE__*/_jsxDEV(FinanceStatistic, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 48\n      }, this), action === 'rate stat' && /*#__PURE__*/_jsxDEV(RateStatistic, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 45\n      }, this), action === 'edit stay' && /*#__PURE__*/_jsxDEV(StayEdit, {\n        stayEdit: selsctedEditStay,\n        onSelectAction: this.onSelectAction,\n        loggedInUser: loggedInUser,\n        toggleMsgModal: toggleMsgModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 45\n      }, this), action === 'add stay' && /*#__PURE__*/_jsxDEV(StayEdit, {\n        onSelectAction: this.onSelectAction,\n        loggedInUser: loggedInUser,\n        toggleMsgModal: toggleMsgModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 44\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    stays: state.stayModule.stays\n  };\n};\n\nconst mapDispatchToProps = {\n  loadHostStays,\n  removeStay\n};\nexport const Dashboard = connect(mapStateToProps, mapDispatchToProps)(_Dashboard);","map":{"version":3,"sources":["C:/Users/Bar-PC/Desktop/sprint 4/src/pages/Dashboard.jsx"],"names":["Component","DashHeader","MyPlaces","FinanceStatistic","RateStatistic","StayEdit","connect","loadHostStays","removeStay","_Dashboard","state","action","loggedInUser","selsctedEditStay","onSelectAction","ev","target","value","setState","onSelectedEditStay","stay","componentDidMount","props","isHost","updateUser","_id","render","stays","toggleMsgModal","mapStateToProps","stayModule","mapDispatchToProps","Dashboard"],"mappings":"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","sourcesContent":["import { Component } from 'react';\r\nimport { DashHeader } from '../cmps/dashboard/DashHeader'\r\nimport { MyPlaces } from '../cmps/dashboard/MyPlaces'\r\nimport { FinanceStatistic } from '../cmps/dashboard/FinanceStatistic'\r\nimport { RateStatistic } from '../cmps/dashboard/RateStatistic'\r\nimport { StayEdit } from '../cmps/dashboard/SaveStay'\r\nimport { connect } from 'react-redux';\r\nimport { loadHostStays, removeStay } from '../store/actions/stayActions'\r\n\r\nexport class _Dashboard extends Component {\r\n\r\n    state = {\r\n        action: '',\r\n        loggedInUser: null,\r\n        selsctedEditStay: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ loggedInUser: { ...this.props.loggedInUser, isHost: true } }, () => {\r\n            this.props.updateUser(this.state.loggedInUser)\r\n            this.props.loadHostStays(this.state.loggedInUser._id);\r\n        })\r\n    }\r\n\r\n    onSelectAction = (ev) => {\r\n        const action = ev.target.value;\r\n        this.setState({ action })\r\n    }\r\n\r\n    onSelectedEditStay = (stay) => {\r\n        this.setState({ selsctedEditStay: stay }, () => {\r\n            this.setState({ action: 'add stay' })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { action, loggedInUser, selsctedEditStay } = this.state\r\n        const { removeStay, stays, toggleMsgModal } = this.props\r\n        return (\r\n            <main className=\"dashboard-container page\">\r\n                <DashHeader onSelectAction={this.onSelectAction} />\r\n                {(action === '' || action === 'my places') && <MyPlaces stays={stays} removeStay={removeStay} toggleMsgModal={toggleMsgModal} onSelectedEditStay={this.onSelectedEditStay} />}\r\n                { action === 'finance stat' && <FinanceStatistic />}\r\n                { action === 'rate stat' && <RateStatistic />}\r\n                { action === 'edit stay' && <StayEdit stayEdit={selsctedEditStay} onSelectAction={this.onSelectAction} loggedInUser={loggedInUser} toggleMsgModal={toggleMsgModal} />}\r\n                { action === 'add stay' && <StayEdit  onSelectAction={this.onSelectAction} loggedInUser={loggedInUser} toggleMsgModal={toggleMsgModal} />}\r\n            </main>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        stays: state.stayModule.stays,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadHostStays,\r\n    removeStay\r\n}\r\n\r\nexport const Dashboard = connect(mapStateToProps, mapDispatchToProps)(_Dashboard)"]},"metadata":{},"sourceType":"module"}