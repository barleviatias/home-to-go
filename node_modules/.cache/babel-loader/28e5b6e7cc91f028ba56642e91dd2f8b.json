{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Bar-PC\\\\Desktop\\\\sprint 4\\\\src\\\\cmps\\\\stay-details\\\\BookStay.jsx\";\nimport { Component } from \"react\";\nimport { addOrder } from '../../store/actions/orderActions';\nimport { DynamicModal } from '../app/DynamicModal';\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass _BookStay extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      trip: {\n        guests: {\n          adults: 0,\n          kids: 0\n        },\n        loc: {\n          address: ''\n        },\n        time: {\n          checkIn: '',\n          checkOut: ''\n        }\n      },\n      modalType: '',\n      isAvailable: false\n    };\n\n    this.handleChange = ev => {\n      if (ev.timeStamp) ev.preventDefault();\n      const {\n        name,\n        value,\n        type\n      } = ev.target;\n\n      if (type === 'date') {\n        this.setState({\n          trip: { ...this.state.trip,\n            time: { ...this.state.trip.time,\n              [name]: value\n            }\n          }\n        });\n      } else if (type === 'number') {\n        if (value < 0) return;\n        this.setState({\n          trip: { ...this.state.trip,\n            guests: { ...this.state.trip.guests,\n              [name]: +value\n            }\n          }\n        });\n      } else this.setState({\n        trip: { ...this.state.trip,\n          loc: { ...this.state.trip.loc,\n            [name]: value\n          }\n        }\n      });\n    };\n\n    this.toggleDynamicModal = modalKey => {\n      if (this.state.modalType === modalKey) this.setState({\n        modalType: ''\n      });else this.setState({\n        modalType: modalKey\n      });\n    };\n\n    this.toggleAvailability = () => {\n      const {\n        guests,\n        time\n      } = this.state.trip;\n\n      if (guests.adults + guests.kids < 1) {\n        this.props.toggleMsgModal( /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-exclamation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 45\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Please enter guest number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 83\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 39\n        }, this));\n        return;\n      }\n\n      if (!time.checkIn || !time.checkOut) {\n        this.props.toggleMsgModal( /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-exclamation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 45\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Please enter trip dates\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 83\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 39\n        }, this));\n        return;\n      }\n\n      this.setState({\n        isAvailable: !this.state.isAvailable\n      }, () => {\n        this.props.onSearch(this.state.trip);\n      });\n    };\n\n    this.onReserveTrip = async () => {\n      const {\n        trip\n      } = this.state;\n      const {\n        stay,\n        loggedInUser\n      } = this.props;\n\n      if (!loggedInUser) {\n        this.props.toggleMsgModal( /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"You must log in frist\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 45\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/login\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 75\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 39\n        }, this));\n        return;\n      }\n\n      trip.totalPrice = (trip.guests.kids + trip.guests.adults) * stay.price * this.getTripTime();\n      this.props.addOrder(trip, stay, loggedInUser);\n      this.setState({\n        trip: {\n          guests: {\n            adults: 0,\n            kids: 0\n          },\n          loc: {\n            address: ''\n          },\n          time: {\n            checkIn: '',\n            checkOut: ''\n          }\n        },\n        isAvailable: false\n      });\n      this.props.toggleMsgModal( /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"far fa-check-circle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 41\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Your order has sent to the host\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 80\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 35\n      }, this));\n    };\n\n    this.getTripTime = () => {\n      const diff = new Date(this.state.trip.time.checkOut).getTime() - new Date(this.state.trip.time.checkIn).getTime();\n      return diff / 1000 / 60 / 60 / 24;\n    };\n  }\n\n  componentDidMount() {\n    var trip = this.props.trip;\n    if (!trip) trip = {\n      guests: {\n        adults: 0,\n        kids: 0\n      },\n      loc: {\n        address: ''\n      },\n      time: {\n        checkIn: '',\n        checkOut: ''\n      }\n    };\n    this.setState({\n      trip,\n      isAvailable: false\n    });\n  }\n\n  render() {\n    const {\n      stay,\n      getTotalRate\n    } = this.props;\n    const {\n      trip,\n      modalType,\n      isAvailable\n    } = this.state;\n    const {\n      reviews,\n      price\n    } = stay;\n    const {\n      kids,\n      adults\n    } = trip.guests;\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"order-form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"order-form-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"order-price\",\n              children: [\"$\", (trip.guests.kids + trip.guests.adults) * price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 28\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \" / night\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 115\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stay-rate-display\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-star\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 61\n            }, this), getTotalRate(), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"( \", reviews.length, \" reviews )\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 108\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"order-form-date-picker\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"check-in\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Check in\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"checkIn\",\n                value: trip.time.checkIn,\n                type: \"date\",\n                placeholder: \"Add dates\",\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"check-out\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Check out\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"checkOut\",\n                value: trip.time.checkOut,\n                type: \"date\",\n                placeholder: \"Add dates\",\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"guests-lable\",\n            onClick: () => {\n              this.toggleDynamicModal('guests');\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Guests\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"guests\",\n              value: trip.guests.kids + trip.guests.adults,\n              type: \"text\",\n              placeholder: \"Add guests\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 29\n            }, this), modalType === 'guests' && /*#__PURE__*/_jsxDEV(DynamicModal, {\n              children: /*#__PURE__*/_jsxDEV(\"section\", {\n                className: \"book-guest-modal\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"modal-label\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Adults\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 125,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Ages 13 or above\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 126,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      onClick: () => {\n                        this.handleChange({\n                          target: {\n                            name: \"adults\",\n                            type: \"number\",\n                            value: adults - 1\n                          }\n                        });\n                      },\n                      children: \"-\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 129,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: adults\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 130,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      onClick: () => {\n                        this.handleChange({\n                          target: {\n                            name: \"adults\",\n                            type: \"number\",\n                            value: adults + 1\n                          }\n                        });\n                      },\n                      children: \"+\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 131,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"modal-label\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Kids\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 136,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Ages 2\\u201312\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 137,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 135,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      onClick: () => {\n                        this.handleChange({\n                          target: {\n                            name: \"kids\",\n                            type: \"number\",\n                            value: kids - 1\n                          }\n                        });\n                      },\n                      children: \"-\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 140,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: kids\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 141,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      onClick: () => {\n                        this.handleChange({\n                          target: {\n                            name: \"kids\",\n                            type: \"number\",\n                            value: kids + 1\n                          }\n                        });\n                      },\n                      children: \"+\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 142,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 56\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this), !isAvailable && /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"book-stay-btn\",\n            onClick: this.toggleAvailability,\n            children: \"Check availability\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 42\n          }, this), isAvailable && /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"book-stay-btn\",\n            onClick: this.onReserveTrip,\n            children: \"Reserve\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 41\n          }, this), isAvailable && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"book-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"You won't be charged yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"$\", price, \" X \", this.getTripTime(), \" night\", this.getTripTime() > 1 && 's']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 33\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"$\", (trip.guests.kids + trip.guests.adults) * price * this.getTripTime()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 115\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Cleaning fee\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 33\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"$\", 6 * this.getTripTime()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 59\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Service fee\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 33\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"$\", 17 * this.getTripTime()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 58\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 41\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"report-listing-btn\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fab fa-font-awesome-flag\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 54\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Report this listing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 98\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    loggedInUser: state.userModule.loggedInUser,\n    trip: state.tripModule.trip\n  };\n};\n\nconst mapDispatchToProps = {\n  addOrder\n};\nexport const BookStay = connect(mapStateToProps, mapDispatchToProps)(_BookStay);","map":{"version":3,"sources":["C:/Users/Bar-PC/Desktop/sprint 4/src/cmps/stay-details/BookStay.jsx"],"names":["Component","addOrder","DynamicModal","connect","Link","_BookStay","state","trip","guests","adults","kids","loc","address","time","checkIn","checkOut","modalType","isAvailable","handleChange","ev","timeStamp","preventDefault","name","value","type","target","setState","toggleDynamicModal","modalKey","toggleAvailability","props","toggleMsgModal","onSearch","onReserveTrip","stay","loggedInUser","totalPrice","price","getTripTime","diff","Date","getTime","componentDidMount","render","getTotalRate","reviews","length","mapStateToProps","userModule","tripModule","mapDispatchToProps","BookStay"],"mappings":"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","sourcesContent":["import { Component } from \"react\";\r\nimport { addOrder } from '../../store/actions/orderActions'\r\nimport { DynamicModal } from '../app/DynamicModal'\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\nclass _BookStay extends Component {\r\n\r\n    state = {\r\n        trip: {\r\n            guests: { adults: 0, kids: 0 },\r\n            loc: { address: '' },\r\n            time: { checkIn: '', checkOut: '' }\r\n        },\r\n        modalType: '',\r\n        isAvailable: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        var trip = this.props.trip\r\n        if (!trip) trip = {\r\n            guests: { adults: 0, kids: 0 },\r\n            loc: { address: '' },\r\n            time: { checkIn: '', checkOut: '' }\r\n        }\r\n        this.setState({ trip, isAvailable: false })\r\n    }\r\n\r\n    handleChange = (ev) => {\r\n        if (ev.timeStamp) ev.preventDefault()\r\n        const { name, value, type } = ev.target\r\n        if (type === 'date') {\r\n            this.setState({ trip: { ...this.state.trip, time: { ...this.state.trip.time, [name]: value } } });\r\n        } else if (type === 'number') {\r\n            if (value < 0) return\r\n            this.setState({ trip: { ...this.state.trip, guests: { ...this.state.trip.guests, [name]: +value } } });\r\n        } else this.setState({ trip: { ...this.state.trip, loc: { ...this.state.trip.loc, [name]: value } } });\r\n    }\r\n\r\n    toggleDynamicModal = (modalKey) => {\r\n        if (this.state.modalType === modalKey) this.setState({ modalType: '' })\r\n        else this.setState({ modalType: modalKey })\r\n    }\r\n\r\n    toggleAvailability = () => {\r\n        const { guests, time } = this.state.trip\r\n\r\n        if (guests.adults + guests.kids < 1) {\r\n            this.props.toggleMsgModal(<span><i className=\"fas fa-exclamation\"></i><h2>Please enter guest number</h2></span>)\r\n            return\r\n        }\r\n\r\n        if (!time.checkIn || !time.checkOut) {\r\n            this.props.toggleMsgModal(<span><i className=\"fas fa-exclamation\"></i><h2>Please enter trip dates</h2></span>)\r\n            return\r\n        }\r\n\r\n\r\n        this.setState({ isAvailable: !this.state.isAvailable }, () => { this.props.onSearch(this.state.trip) })\r\n    }\r\n\r\n    onReserveTrip = async () => {\r\n        const { trip } = this.state\r\n        const { stay, loggedInUser } = this.props\r\n\r\n        if (!loggedInUser) {\r\n            this.props.toggleMsgModal(<span><h2>You must log in frist</h2><Link to='/login'>Login</Link></span>)\r\n            return\r\n        }\r\n\r\n        trip.totalPrice = ((trip.guests.kids + trip.guests.adults) * stay.price) * this.getTripTime()\r\n        this.props.addOrder(trip, stay, loggedInUser)\r\n\r\n        this.setState({\r\n            trip: {\r\n                guests: { adults: 0, kids: 0 },\r\n                loc: { address: '' },\r\n                time: { checkIn: '', checkOut: '' }\r\n            },\r\n            isAvailable: false\r\n        })\r\n        this.props.toggleMsgModal(<span><i className=\"far fa-check-circle\"></i><h3>Your order has sent to the host</h3></span>)\r\n    }\r\n\r\n    getTripTime = () => {\r\n        const diff = new Date(this.state.trip.time.checkOut).getTime() - new Date(this.state.trip.time.checkIn).getTime();\r\n        return diff / 1000 / 60 / 60 / 24\r\n    }\r\n\r\n    render() {\r\n        const { stay, getTotalRate } = this.props\r\n        const { trip, modalType, isAvailable } = this.state\r\n        const { reviews, price } = stay\r\n        const { kids, adults } = trip.guests;\r\n\r\n\r\n        return (\r\n            <section className=\"order-form-container\">\r\n                <div className=\"order-form\">\r\n                    <div className=\"order-form-header\">\r\n                        <p><span className=\"order-price\">${(trip.guests.kids + trip.guests.adults) * price}</span><span> / night</span></p>\r\n                        <span className=\"stay-rate-display\"><i className=\"fas fa-star\"></i>{getTotalRate()}<p>( {reviews.length} reviews )</p></span>\r\n                    </div>\r\n\r\n                    <form>\r\n                        <div className=\"order-form-date-picker\">\r\n                            <label className=\"check-in\">\r\n                                <span>Check in</span>\r\n                                <input name=\"checkIn\" value={trip.time.checkIn} type=\"date\" placeholder=\"Add dates\" onChange={this.handleChange} />\r\n                            </label>\r\n                            <label className=\"check-out\" >\r\n                                <span>Check out</span>\r\n                                <input name=\"checkOut\" value={trip.time.checkOut} type=\"date\" placeholder=\"Add dates\" onChange={this.handleChange} />\r\n                            </label>\r\n                        </div>\r\n\r\n                        <label className=\"guests-lable\" onClick={() => { this.toggleDynamicModal('guests') }} >\r\n                            <span>Guests</span>\r\n                            <input name=\"guests\" value={trip.guests.kids + trip.guests.adults} type=\"text\" placeholder=\"Add guests\" />\r\n                            {modalType === 'guests' && <DynamicModal>\r\n                                <section className=\"book-guest-modal\">\r\n                                    <div className=\"modal-label\">\r\n                                        <div>\r\n                                            <span>Adults</span>\r\n                                            <span>Ages 13 or above</span>\r\n                                        </div>\r\n                                        <div>\r\n                                            <button type={\"button\"} onClick={() => { this.handleChange({ target: { name: \"adults\", type: \"number\", value: (adults - 1) } }) }}>-</button>\r\n                                            <span>{adults}</span>\r\n                                            <button type={\"button\"} onClick={() => { this.handleChange({ target: { name: \"adults\", type: \"number\", value: (adults + 1) } }) }}>+</button>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"modal-label\">\r\n                                        <div>\r\n                                            <span>Kids</span>\r\n                                            <span>Ages 2–12</span>\r\n                                        </div>\r\n                                        <div>\r\n                                            <button type={\"button\"} onClick={() => { this.handleChange({ target: { name: \"kids\", type: \"number\", value: (kids - 1) } }) }}>-</button>\r\n                                            <span>{kids}</span>\r\n                                            <button type={\"button\"} onClick={() => { this.handleChange({ target: { name: \"kids\", type: \"number\", value: (kids + 1) } }) }}>+</button>\r\n                                        </div>\r\n                                    </div>\r\n                                </section>\r\n                            </DynamicModal>}\r\n                        </label>\r\n                        {!isAvailable && <button type=\"button\" className=\"book-stay-btn\" onClick={this.toggleAvailability}>Check availability</button>}\r\n                        {isAvailable && <button type=\"button\" className=\"book-stay-btn\" onClick={this.onReserveTrip}>Reserve</button>}\r\n                        {isAvailable && <div className=\"book-info\">\r\n                            <h4>You won't be charged yet</h4>\r\n                            <h3><span>${price} X {this.getTripTime()} night{this.getTripTime() > 1 && 's'}</span> <span>${((trip.guests.kids + trip.guests.adults) * price) * this.getTripTime()}</span></h3>\r\n                            <h3><span>Cleaning fee</span> <span>${(6 * this.getTripTime())}</span></h3>\r\n                            <h3><span>Service fee</span> <span>${(17 * this.getTripTime())}</span></h3>\r\n                        </div>}\r\n                    </form>\r\n                </div>\r\n                <span className=\"report-listing-btn\"><i className=\"fab fa-font-awesome-flag\"></i><p>Report this listing</p></span>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        loggedInUser: state.userModule.loggedInUser,\r\n        trip: state.tripModule.trip\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    addOrder,\r\n}\r\n\r\nexport const BookStay = connect(mapStateToProps, mapDispatchToProps)(_BookStay)"]},"metadata":{},"sourceType":"module"}