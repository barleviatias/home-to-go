{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Bar-PC\\\\Desktop\\\\sprint 4\\\\src\\\\pages\\\\UserDetails.jsx\";\nimport { Component } from \"react\";\nimport { userService } from \"../services/user-service\";\nimport { NavMenu } from '../cmps/app/NavMenu';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class UserDetails extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: \"\",\n      isEditMode: false\n    };\n\n    this.loadUser = async () => {\n      let sessionUser = sessionStorage.getItem('loggedinUser');\n      sessionUser = JSON.parse(sessionUser);\n      const user = await userService.getById(sessionUser._id);\n      this.setState({\n        user\n      });\n      console.log(user.fullname);\n    };\n\n    this.handleChange = ({\n      target\n    }) => {\n      const {\n        name\n      } = target;\n      const {\n        value\n      } = target;\n      this.setState({\n        user: { ...this.state.user,\n          [name]: value\n        }\n      });\n    };\n\n    this.onUpdateUser = () => {\n      this.props.updateUser(this.state.user);\n      this.toggleEditMode();\n    };\n\n    this.toggleEditMode = () => {\n      this.setState({\n        isEditMode: !this.state.isEditMode\n      });\n      console.log(this.state);\n    };\n  }\n\n  componentDidMount() {\n    this.loadUser();\n    console.log(this.state);\n  }\n\n  render() {\n    console.log(this.state);\n    const currUser = this.state.user;\n    if (!currUser) return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 27\n    }, this);\n    const {\n      fullname,\n      username,\n      email,\n      imgUrl\n    } = currUser;\n    const firstName = fullname.split(' ');\n    const isEditMode = this.state.isEditMode;\n    console.log(isEditMode); // const { capacity, summary, price, stayType, name, host } = stay;\n\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"user-details page\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: imgUrl,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"hey \", firstName[0]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Your Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), !isEditMode && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"full name: \", fullname]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"username: \", username]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"email: \", email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.toggleEditMode,\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 27\n      }, this), isEditMode && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"full name: \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"fullname\",\n            autoComplete: \"off\",\n            onChange: this.handleChange,\n            value: fullname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 28\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"username: \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"username\",\n            autoComplete: \"off\",\n            onChange: this.handleChange,\n            value: username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"email: \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"email\",\n            autoComplete: \"off\",\n            onChange: this.handleChange,\n            value: email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 24\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.onUpdateUser,\n          children: \"save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 24\n      }, this), /*#__PURE__*/_jsxDEV(NavMenu, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Bar-PC/Desktop/sprint 4/src/pages/UserDetails.jsx"],"names":["Component","userService","NavMenu","UserDetails","state","user","isEditMode","loadUser","sessionUser","sessionStorage","getItem","JSON","parse","getById","_id","setState","console","log","fullname","handleChange","target","name","value","onUpdateUser","props","updateUser","toggleEditMode","componentDidMount","render","currUser","username","email","imgUrl","firstName","split"],"mappings":"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","sourcesContent":["import { Component } from \"react\";\r\nimport { userService } from \"../services/user-service\";\r\nimport {NavMenu} from '../cmps/app/NavMenu'\r\nexport class UserDetails extends Component {\r\n\r\n  state = {\r\n    user:\"\",\r\n    isEditMode:false\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadUser()\r\n    console.log(this.state);\r\n  }\r\n\r\n  loadUser = async () => {\r\n    let sessionUser = sessionStorage.getItem('loggedinUser')\r\n    sessionUser = JSON.parse(sessionUser)\r\n    const user = await userService.getById(sessionUser._id)\r\n    this.setState({ user })\r\n    console.log(user.fullname);\r\n  }\r\n  handleChange = ({ target }) => {\r\n    const { name } = target\r\n    const { value } = target\r\n    this.setState({ user: { ...this.state.user, [name]: value } })\r\n}\r\n\r\nonUpdateUser = () => {\r\n    this.props.updateUser(this.state.user)\r\n    this.toggleEditMode()\r\n}\r\n\r\n  toggleEditMode = () => {\r\n    this.setState({ isEditMode: !this.state.isEditMode })\r\n    console.log(this.state);\r\n}\r\n  render() {\r\n    console.log(this.state);\r\n\r\n    const currUser = this.state.user\r\n    \r\n    if (!currUser) return <h1>loading...</h1>\r\n    const {fullname,username,email,imgUrl}=currUser\r\n    const firstName=fullname.split(' ')\r\n    const isEditMode=this.state.isEditMode\r\n    console.log(isEditMode);\r\n    // const { capacity, summary, price, stayType, name, host } = stay;\r\n\r\n    return (\r\n        \r\n      <main className=\"user-details page\">\r\n        <img src={imgUrl} alt=\"\"/>\r\n        <h1>hey {firstName[0]}</h1>\r\n        <h1>Your Details</h1>\r\n          {!isEditMode && <div>\r\n        <p>full name: {fullname}</p>\r\n        <p>username: {username}</p>\r\n        <p>email: {email}</p>\r\n        <button onClick={this.toggleEditMode}>Edit</button>\r\n              </div>}\r\n        {isEditMode && <div>\r\n            <h3>full name: <input type=\"text\" name=\"fullname\" autoComplete=\"off\" onChange={this.handleChange} value={fullname} /></h3>\r\n            <h3>username: <input type=\"text\" name=\"username\" autoComplete=\"off\" onChange={this.handleChange} value={username} /></h3>\r\n            <h3>email: <input type=\"text\" name=\"email\" autoComplete=\"off\" onChange={this.handleChange} value={email} /></h3>\r\n        <button onClick={this.onUpdateUser}>save</button>\r\n            </div>}\r\n            <NavMenu/>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}