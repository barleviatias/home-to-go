{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Bar-PC\\\\Desktop\\\\sprint 4\\\\src\\\\cmps\\\\dashboard\\\\SaveStay.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { stayService } from '../../services/stay-service'; // import { uploadImg } from '../../services/cloudinary-service';\n\nimport { addStay } from '../../store/actions/stayActions';\nimport { Upload } from '../Upload'; // import { TextField, Switch, FormControlLabel } from '@material-ui/core';\n// import { makeStyles } from '@material-ui/core/styles';\n// import Button from '@material-ui/core/Button';\n// import IconButton from '@material-ui/core/IconButton';\n// import PhotoCamera from '@material-ui/icons/PhotoCamera';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass _StayEdit extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      stay: {\n        name: '',\n        imgUrls: ['https://a0.muscache.com/im/pictures/bd67daca-84a4-44e9-952d-11162ba76242.jpg?im_w=1200', 'https://a0.muscache.com/im/pictures/533919e9-d77c-4dfc-94a5-3b71d6c41792.jpg?im_w=720', 'https://a0.muscache.com/im/pictures/miso/Hosting-4869137/original/179b4e72-c3ed-4198-b274-bbc4c67276f2.jpeg?im_w=720', 'https://a0.muscache.com/im/pictures/miso/Hosting-4869137/original/efaab6c2-f21a-40aa-a32a-a37b08711af4.jpeg?im_w=720', 'https://a0.muscache.com/im/pictures/miso/Hosting-4869137/original/e5a8c40e-f26b-45fb-84c2-55845256e963.jpeg?im_w=720'],\n        price: 80.0,\n        desc: 'Fantastic duplex apartment with three bedrooms, located in the historic area of Paris',\n        capacity: 8,\n        // favorites: [\n        //     {\n        //         userId: \"u109\"\n        //     }\n        // ],\n        amenities: {\n          TV: true,\n          Wifi: false,\n          Air_conditioning: false,\n          Smoking_allowed: false,\n          Pets_allowed: false,\n          Cooking_basics: false\n        },\n        stayType: '',\n        propertyType: '',\n        host: {\n          _id: this.props.loggedInUser._id,\n          fullname: this.props.loggedInUser.fullname,\n          imgUrl: this.props.loggedInUser.imgUrl\n        },\n        loc: {\n          country: 'France',\n          countryCode: 'PT',\n          address: 'Paris, France',\n          lat: -8.61308,\n          lng: 41.1413\n        },\n        reviews: []\n      }\n    };\n\n    this.onUploadImg = imgState => {\n      console.log(imgState.imgUrl);\n      this.setState({\n        stay: { ...this.state.stay,\n          imgUrls: [...this.state.stay.imgUrls, imgState.imgUrl]\n        }\n      });\n    };\n\n    this.handleChange = ({\n      target\n    }) => {\n      console.log(target.value); // console.log( target.checked);\n\n      let {\n        name,\n        value,\n        id,\n        checked\n      } = target;\n      value = name === 'price' ? +value : value;\n\n      if (id === 'amenities') {\n        this.setState({\n          stay: { ...this.state.stay,\n            amenities: { ...this.state.stay.amenities,\n              [name]: checked\n            }\n          }\n        });\n      } else {\n        this.setState({\n          stay: { ...this.state.stay,\n            [name]: value\n          }\n        });\n      }\n\n      console.log(this.state.stay);\n    };\n\n    this.onSaveStay = ev => {\n      ev.preventDefault();\n      ev.target.value = 'my places'; // console.log(e);\n\n      const {\n        stay\n      } = this.state;\n      this.props.addStay(stay);\n      this.props.onSelectAction(ev);\n    };\n  }\n\n  componentDidMount() {\n    this.loadStay();\n  }\n\n  componentDidUpdate(prevProps) {\n    console.log(this.state);\n  }\n\n  loadStay() {\n    if (!this.props.match || !this.props.match.params) return;\n    const {\n      stayId\n    } = this.props.match.params;\n\n    if (stayId) {\n      stayService.getById(stayId).then(stay => {\n        this.setState({\n          stay\n        });\n      });\n    }\n  }\n\n  render() {\n    const {\n      stay\n    } = this.state;\n    if (!stay) return ''; // LOADER\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stay-edit full container flex column align-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: stay._id ? 'Edit stay' : 'Add new stay'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.onSaveStay,\n        className: \"flex column align-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"stay name:\", ' ', /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            autoComplete: \"off\",\n            onChange: this.handleChange,\n            value: stay.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"price:\", ' ', /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"price\",\n            autoComplete: \"off\",\n            onChange: this.handleChange,\n            value: stay.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"description:\", ' ', /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"desc\",\n            autoComplete: \"off\",\n            onChange: this.handleChange,\n            value: stay.desc\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"capacity:\", ' ', /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"capacity\",\n            autoComplete: \"off\",\n            onChange: this.handleChange,\n            value: stay.capacity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"stayType:\", ' ', /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"stayType\",\n            onChange: this.handleChange,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"entire place\",\n              children: \"entire place\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"private room\",\n              children: \"private room\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"propertyType:\", ' ', /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"propertyType\",\n            onChange: this.handleChange,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"loft\",\n              children: \"loft\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"villa\",\n              children: \"villa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"appartment room\",\n              children: \"appartment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          name: \"TV\",\n          id: \"amenities\",\n          value: stay.amenities.TV,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"TV\",\n          children: \" TV\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          name: \"Wifi\",\n          id: \"amenities\",\n          value: stay.amenities.Wifi,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"Wifi\",\n          children: \"Wifi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          name: \"AC\",\n          id: \"amenities\",\n          value: stay.amenities.AC,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"AC\",\n          children: \"AC \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          name: \"Smoking_allowed\",\n          id: \"amenities\",\n          value: stay.amenities.Smoking_allowed,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"AC\",\n          children: \"Smoking_allowed \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          name: \"Pets_allowed\",\n          id: \"amenities\",\n          value: stay.amenities.Pets_allowed,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"AC\",\n          children: \"Pets_allowed \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          name: \"Cooking_basics\",\n          id: \"amenities\",\n          value: stay.amenities.Cooking_basics,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"AC\",\n          children: \"Cooking_basics \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Uploading to cloudinary YAAY!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Upload, {\n          onUploadImg: this.onUploadImg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"primary-btn\",\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    stays: state.stayModule.stays\n  };\n}\n\nconst mapDispatchToProps = {\n  addStay\n};\nexport const StayEdit = connect(mapStateToProps, mapDispatchToProps)(_StayEdit);","map":{"version":3,"sources":["C:/Users/Bar-PC/Desktop/sprint 4/src/cmps/dashboard/SaveStay.jsx"],"names":["React","Component","connect","stayService","addStay","Upload","_StayEdit","state","stay","name","imgUrls","price","desc","capacity","amenities","TV","Wifi","Air_conditioning","Smoking_allowed","Pets_allowed","Cooking_basics","stayType","propertyType","host","_id","props","loggedInUser","fullname","imgUrl","loc","country","countryCode","address","lat","lng","reviews","onUploadImg","imgState","console","log","setState","handleChange","target","value","id","checked","onSaveStay","ev","preventDefault","onSelectAction","componentDidMount","loadStay","componentDidUpdate","prevProps","match","params","stayId","getById","then","render","AC","mapStateToProps","stays","stayModule","mapDispatchToProps","StayEdit"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { stayService } from '../../services/stay-service';\r\n// import { uploadImg } from '../../services/cloudinary-service';\r\nimport { addStay } from '../../store/actions/stayActions';\r\nimport { Upload } from '../Upload';\r\n// import { TextField, Switch, FormControlLabel } from '@material-ui/core';\r\n// import { makeStyles } from '@material-ui/core/styles';\r\n// import Button from '@material-ui/core/Button';\r\n// import IconButton from '@material-ui/core/IconButton';\r\n\r\n// import PhotoCamera from '@material-ui/icons/PhotoCamera';\r\nclass _StayEdit extends Component {\r\n\tstate = {\r\n\t\tstay: {\r\n\t\t\tname: '',\r\n\t\t\timgUrls: [\r\n\t\t\t\t'https://a0.muscache.com/im/pictures/bd67daca-84a4-44e9-952d-11162ba76242.jpg?im_w=1200',\r\n\t\t\t\t'https://a0.muscache.com/im/pictures/533919e9-d77c-4dfc-94a5-3b71d6c41792.jpg?im_w=720',\r\n\t\t\t\t'https://a0.muscache.com/im/pictures/miso/Hosting-4869137/original/179b4e72-c3ed-4198-b274-bbc4c67276f2.jpeg?im_w=720',\r\n\t\t\t\t'https://a0.muscache.com/im/pictures/miso/Hosting-4869137/original/efaab6c2-f21a-40aa-a32a-a37b08711af4.jpeg?im_w=720',\r\n\t\t\t\t'https://a0.muscache.com/im/pictures/miso/Hosting-4869137/original/e5a8c40e-f26b-45fb-84c2-55845256e963.jpeg?im_w=720',\r\n\t\t\t],\r\n\t\t\tprice: 80.0,\r\n\t\t\tdesc: 'Fantastic duplex apartment with three bedrooms, located in the historic area of Paris',\r\n\t\t\tcapacity: 8,\r\n\t\t\t// favorites: [\r\n\t\t\t//     {\r\n\t\t\t//         userId: \"u109\"\r\n\t\t\t//     }\r\n\t\t\t// ],\r\n\t\t\tamenities: {\r\n\t\t\t\tTV: true,\r\n\t\t\t\tWifi: false,\r\n\t\t\t\tAir_conditioning: false,\r\n\t\t\t\tSmoking_allowed: false,\r\n\t\t\t\tPets_allowed: false,\r\n\t\t\t\tCooking_basics: false,\r\n\t\t\t},\r\n\t\t\tstayType: '',\r\n\t\t\tpropertyType: '',\r\n\t\t\thost: {\r\n\t\t\t\t_id: this.props.loggedInUser._id,\r\n\t\t\t\tfullname: this.props.loggedInUser.fullname,\r\n\t\t\t\timgUrl: this.props.loggedInUser.imgUrl,\r\n\t\t\t},\r\n\t\t\tloc: {\r\n\t\t\t\tcountry: 'France',\r\n\t\t\t\tcountryCode: 'PT',\r\n\t\t\t\taddress: 'Paris, France',\r\n\t\t\t\tlat: -8.61308,\r\n\t\t\t\tlng: 41.1413,\r\n\t\t\t},\r\n\t\t\treviews: [],\r\n\t\t},\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.loadStay();\r\n\t}\r\n\tcomponentDidUpdate(prevProps) {\r\n\tconsole.log(this.state);\r\n\t}\r\n\r\n\tloadStay() {\r\n\t\tif (!this.props.match || !this.props.match.params) return;\r\n\t\tconst { stayId } = this.props.match.params;\r\n\t\tif (stayId) {\r\n\t\t\tstayService.getById(stayId).then((stay) => {\r\n\t\t\t\tthis.setState({ stay });\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n    onUploadImg =(imgState)=>{\r\n        console.log(imgState.imgUrl);\r\n        this.setState({ stay: { ...this.state.stay,imgUrls: [...this.state.stay.imgUrls,imgState.imgUrl] } })\r\n    }\r\n\thandleChange = ({ target }) => {\r\n\t\tconsole.log(target.value);\r\n\t\t// console.log( target.checked);\r\n\t\tlet { name, value, id, checked } = target;\r\n\t\tvalue = name === 'price' ? +value : value;\r\n\t\tif (id === 'amenities') {\r\n\t\t\tthis.setState({\r\n\t\t\t\tstay: {\r\n\t\t\t\t\t...this.state.stay,\r\n\t\t\t\t\tamenities: { ...this.state.stay.amenities, [name]: checked },\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setState({ stay: { ...this.state.stay, [name]: value } });\r\n\t\t}\r\n\t\tconsole.log(this.state.stay);\r\n\t};\r\n\r\n\tonSaveStay = (ev) => {\r\n\t\tev.preventDefault();\r\n\t\tev.target.value = 'my places';\r\n\t\t// console.log(e);\r\n\t\tconst { stay } = this.state;\r\n\t\tthis.props.addStay(stay);\r\n\t\tthis.props.onSelectAction(ev);\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { stay } = this.state;\r\n\t\tif (!stay) return ''; // LOADER\r\n\t\treturn (\r\n\t\t\t<div className=\"stay-edit full container flex column align-center\">\r\n\t\t\t\t<h1>{stay._id ? 'Edit stay' : 'Add new stay'}</h1>\r\n\t\t\t\t<form onSubmit={this.onSaveStay} className=\"flex column align-center\">\r\n\t\t\t\t\t<h3>\r\n\t\t\t\t\t\tstay name:{' '}\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tvalue={stay.name}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t\t<h3>\r\n\t\t\t\t\t\tprice:{' '}\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tname=\"price\"\r\n\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tvalue={stay.price}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t\t<h3>\r\n\t\t\t\t\t\tdescription:{' '}\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tname=\"desc\"\r\n\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tvalue={stay.desc}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t\t<h3>\r\n\t\t\t\t\t\tcapacity:{' '}\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tname=\"capacity\"\r\n\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tvalue={stay.capacity}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t\t<h3>\r\n\t\t\t\t\t\tstayType:{' '}\r\n\t\t\t\t\t\t<select name=\"stayType\" onChange={this.handleChange}>\r\n\t\t\t\t\t\t\t<option value=\"entire place\">entire place</option>\r\n\t\t\t\t\t\t\t<option value=\"private room\">private room</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t\t<h3>\r\n\t\t\t\t\t\tpropertyType:{' '}\r\n\t\t\t\t\t\t<select name=\"propertyType\" onChange={this.handleChange}>\r\n\t\t\t\t\t\t\t<option value=\"loft\">loft</option>\r\n\t\t\t\t\t\t\t<option value=\"villa\">villa</option>\r\n\t\t\t\t\t\t\t<option value=\"appartment room\">appartment</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tname=\"TV\"\r\n\t\t\t\t\t\tid=\"amenities\"\r\n\t\t\t\t\t\tvalue={stay.amenities.TV}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label for=\"TV\"> TV</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tname=\"Wifi\"\r\n\t\t\t\t\t\tid=\"amenities\"\r\n\t\t\t\t\t\tvalue={stay.amenities.Wifi}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label for=\"Wifi\">Wifi</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tname=\"AC\"\r\n\t\t\t\t\t\tid=\"amenities\"\r\n\t\t\t\t\t\tvalue={stay.amenities.AC}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label for=\"AC\">AC </label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tname=\"Smoking_allowed\"\r\n\t\t\t\t\t\tid=\"amenities\"\r\n\t\t\t\t\t\tvalue={stay.amenities.Smoking_allowed}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label for=\"AC\">Smoking_allowed </label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tname=\"Pets_allowed\"\r\n\t\t\t\t\t\tid=\"amenities\"\r\n\t\t\t\t\t\tvalue={stay.amenities.Pets_allowed}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label for=\"AC\">Pets_allowed </label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tname=\"Cooking_basics\"\r\n\t\t\t\t\t\tid=\"amenities\"\r\n\t\t\t\t\t\tvalue={stay.amenities.Cooking_basics}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label for=\"AC\">Cooking_basics </label>\r\n\t\t\t\t\t<h1>Uploading to cloudinary YAAY!</h1>\r\n\t\t\t\t\t{/* <label>\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\tUpload your image to cloudinary!\r\n\t\t\t\t\t\t<input onchange={uploadImg(event)} type=\"file\" />\r\n\t\t\t\t\t</label> */}\r\n                    <Upload onUploadImg={this.onUploadImg}/>\r\n\t\t\t\t\t<button className=\"primary-btn\">Save</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tstays: state.stayModule.stays,\r\n\t};\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\taddStay,\r\n};\r\n\r\nexport const StayEdit = connect(mapStateToProps, mapDispatchToProps)(_StayEdit);\r\n"]},"metadata":{},"sourceType":"module"}