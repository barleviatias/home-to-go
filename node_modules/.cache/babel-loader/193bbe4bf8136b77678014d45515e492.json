{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Bar-PC\\\\Desktop\\\\sprint 4\\\\src\\\\pages\\\\Dashboard.jsx\";\nimport { Component } from 'react';\nimport { DashHeader } from '../cmps/dashboard/DashHeader';\nimport { MyPlaces } from '../cmps/dashboard/MyPlaces';\nimport { FinanceStatistic } from '../cmps/dashboard/FinanceStatistic';\nimport { RateStatistic } from '../cmps/dashboard/RateStatistic';\nimport { StayEdit } from '../cmps/dashboard/SaveStay';\nimport { connect } from 'react-redux';\nimport { loadHostStays, removeStay } from '../store/actions/stayActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class _Dashboard extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      action: '',\n      loggedInUser: null,\n      selsctedEditStay: null\n    };\n\n    this.loadHostStays = async () => {\n      await this.props.loadHostStays(this.state.loggedInUser._id);\n\n      if (this.props.stays.length === 0) {\n        this.setState({\n          action: 'add stay'\n        });\n      }\n    };\n\n    this.onSelectAction = ev => {\n      const action = ev.target.value;\n      this.setState({\n        action\n      });\n    };\n\n    this.onSelectedEditStay = stay => {\n      this.setState({\n        selsctedEditStay: stay\n      }, () => {\n        this.setState({\n          action: 'edit stay'\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      loggedInUser: { ...this.props.loggedInUser,\n        isHost: true\n      }\n    }, () => {\n      this.props.updateUser(this.state.loggedInUser);\n      this.loadHostStays();\n    });\n  }\n\n  render() {\n    const {\n      action,\n      loggedInUser,\n      selsctedEditStay\n    } = this.state;\n    const {\n      removeStay,\n      stays,\n      toggleMsgModal\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"dashboard-container page\",\n      children: [/*#__PURE__*/_jsxDEV(DashHeader, {\n        onSelectAction: this.onSelectAction\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), (action === '' || action === 'my places') && /*#__PURE__*/_jsxDEV(MyPlaces, {\n        stays: stays,\n        removeStay: removeStay,\n        toggleMsgModal: toggleMsgModal,\n        onSelectedEditStay: this.onSelectedEditStay\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 63\n      }, this), action === 'finance stat' && /*#__PURE__*/_jsxDEV(FinanceStatistic, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 48\n      }, this), action === 'rate stat' && /*#__PURE__*/_jsxDEV(RateStatistic, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 45\n      }, this), action === 'edit stay' && /*#__PURE__*/_jsxDEV(StayEdit, {\n        stayEdit: selsctedEditStay,\n        onSelectAction: this.onSelectAction,\n        loggedInUser: loggedInUser,\n        toggleMsgModal: toggleMsgModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 45\n      }, this), action === 'add stay' && /*#__PURE__*/_jsxDEV(StayEdit, {\n        onSelectAction: this.onSelectAction,\n        loggedInUser: loggedInUser,\n        toggleMsgModal: toggleMsgModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 44\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    stays: state.stayModule.stays\n  };\n};\n\nconst mapDispatchToProps = {\n  loadHostStays,\n  removeStay\n};\nexport const Dashboard = connect(mapStateToProps, mapDispatchToProps)(_Dashboard);","map":{"version":3,"sources":["C:/Users/Bar-PC/Desktop/sprint 4/src/pages/Dashboard.jsx"],"names":["Component","DashHeader","MyPlaces","FinanceStatistic","RateStatistic","StayEdit","connect","loadHostStays","removeStay","_Dashboard","state","action","loggedInUser","selsctedEditStay","props","_id","stays","length","setState","onSelectAction","ev","target","value","onSelectedEditStay","stay","componentDidMount","isHost","updateUser","render","toggleMsgModal","mapStateToProps","stayModule","mapDispatchToProps","Dashboard"],"mappings":"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","sourcesContent":["import { Component } from 'react';\r\nimport { DashHeader } from '../cmps/dashboard/DashHeader'\r\nimport { MyPlaces } from '../cmps/dashboard/MyPlaces'\r\nimport { FinanceStatistic } from '../cmps/dashboard/FinanceStatistic'\r\nimport { RateStatistic } from '../cmps/dashboard/RateStatistic'\r\nimport { StayEdit } from '../cmps/dashboard/SaveStay'\r\nimport { connect } from 'react-redux';\r\nimport { loadHostStays, removeStay } from '../store/actions/stayActions'\r\n\r\nexport class _Dashboard extends Component {\r\n\r\n    state = {\r\n        action: '',\r\n        loggedInUser: null,\r\n        selsctedEditStay: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ loggedInUser: { ...this.props.loggedInUser, isHost: true } }, () => {\r\n            this.props.updateUser(this.state.loggedInUser)\r\n            this.loadHostStays()\r\n        })\r\n    }\r\n\r\n    loadHostStays = async () => {\r\n        await this.props.loadHostStays(this.state.loggedInUser._id);\r\n        if (this.props.stays.length === 0) {\r\n            this.setState({ action: 'add stay' })\r\n        }\r\n\r\n    }\r\n\r\n    onSelectAction = (ev) => {\r\n        const action = ev.target.value;\r\n        this.setState({ action })\r\n    }\r\n\r\n    onSelectedEditStay = (stay) => {\r\n        this.setState({ selsctedEditStay: stay }, () => {\r\n            this.setState({ action: 'edit stay' })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { action, loggedInUser, selsctedEditStay } = this.state\r\n        const { removeStay, stays, toggleMsgModal } = this.props\r\n        return (\r\n            <main className=\"dashboard-container page\">\r\n                <DashHeader onSelectAction={this.onSelectAction} />\r\n                {(action === '' || action === 'my places') && <MyPlaces stays={stays} removeStay={removeStay} toggleMsgModal={toggleMsgModal} onSelectedEditStay={this.onSelectedEditStay} />}\r\n                { action === 'finance stat' && <FinanceStatistic />}\r\n                { action === 'rate stat' && <RateStatistic />}\r\n                { action === 'edit stay' && <StayEdit stayEdit={selsctedEditStay} onSelectAction={this.onSelectAction} loggedInUser={loggedInUser} toggleMsgModal={toggleMsgModal} />}\r\n                { action === 'add stay' && <StayEdit  onSelectAction={this.onSelectAction} loggedInUser={loggedInUser} toggleMsgModal={toggleMsgModal} />}\r\n            </main>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        stays: state.stayModule.stays,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadHostStays,\r\n    removeStay\r\n}\r\n\r\nexport const Dashboard = connect(mapStateToProps, mapDispatchToProps)(_Dashboard)"]},"metadata":{},"sourceType":"module"}