{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Bar-PC\\\\Desktop\\\\sprint 4\\\\src\\\\cmps\\\\dashboard\\\\SaveStay.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { stayService } from '../../services/stay-service';\nimport { addStay } from '../../store/actions/stayActions';\nimport { TextField, Switch, FormControlLabel } from '@material-ui/core'; // import { makeStyles } from '@material-ui/core/styles';\n// import Button from '@material-ui/core/Button';\n// import IconButton from '@material-ui/core/IconButton';\n// import PhotoCamera from '@material-ui/icons/PhotoCamera';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass _StayEdit extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      stay: {\n        name: \"House Of Mor\",\n        imgUrls: [\"https://a0.muscache.com/im/pictures/bd67daca-84a4-44e9-952d-11162ba76242.jpg?im_w=1200\", \"https://a0.muscache.com/im/pictures/533919e9-d77c-4dfc-94a5-3b71d6c41792.jpg?im_w=720\", \"https://a0.muscache.com/im/pictures/miso/Hosting-4869137/original/179b4e72-c3ed-4198-b274-bbc4c67276f2.jpeg?im_w=720\", \"https://a0.muscache.com/im/pictures/miso/Hosting-4869137/original/efaab6c2-f21a-40aa-a32a-a37b08711af4.jpeg?im_w=720\", \"https://a0.muscache.com/im/pictures/miso/Hosting-4869137/original/e5a8c40e-f26b-45fb-84c2-55845256e963.jpeg?im_w=720\"],\n        price: 80.00,\n        desc: \"Fantastic duplex apartment with three bedrooms, located in the historic area of Paris\",\n        capacity: 8,\n        // favorites: [\n        //     {\n        //         userId: \"u109\"\n        //     }\n        // ],\n        amenities: {\n          \"TV\": true,\n          \"Wifi\": false,\n          \"AC\": false,\n          \"Smoking allowed\": false,\n          \"Pets allowed\": false,\n          \"Cooking basics\": false\n        },\n        stayType: \"entire place\",\n        propertyType: \"loft\",\n        host: {\n          _id: this.props.loggedInUser._id,\n          fullname: this.props.loggedInUser.fullname,\n          imgUrl: this.props.loggedInUser.imgUrl\n        },\n        loc: {\n          \"country\": \"France\",\n          \"countryCode\": \"PT\",\n          \"address\": \"Paris, France\",\n          \"lat\": -8.61308,\n          \"lng\": 41.1413\n        },\n        reviews: []\n      }\n    };\n\n    this.handleChange = ({\n      target\n    }) => {\n      console.log(target.value); // console.log( target.checked);\n\n      let {\n        name,\n        value,\n        id,\n        checked\n      } = target;\n      value = name === 'price' ? +value : value;\n\n      if (id === 'amenities') {\n        this.setState({\n          stay: { ...this.state.stay,\n            amenities: { ...this.state.stay.amenities,\n              [name]: checked\n            }\n          }\n        });\n      } else {\n        this.setState({\n          stay: { ...this.state.stay,\n            [name]: value\n          }\n        });\n      }\n\n      console.log(this.state.stay);\n    };\n\n    this.onSaveStay = ev => {\n      ev.preventDefault();\n      ev.target.value = \"my places\"; // console.log(e);\n\n      const {\n        stay\n      } = this.state;\n      this.props.addStay(stay);\n      this.props.onSelectAction(ev);\n    };\n  }\n\n  componentDidMount() {\n    this.loadStay();\n  }\n\n  componentDidUpdate(prevProps) {// if (prevProps.stays !== this.props.stays) {\n    //     this.props.onSelectAction('my places')\n    // }\n  }\n\n  loadStay() {\n    if (!this.props.match || !this.props.match.params) return;\n    const {\n      stayId\n    } = this.props.match.params;\n\n    if (stayId) {\n      stayService.getById(stayId).then(stay => {\n        this.setState({\n          stay\n        });\n      });\n    }\n  }\n\n  render() {\n    const {\n      stay\n    } = this.state;\n    if (!stay) return ''; // LOADER\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stay-edit full container flex column align-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: stay._id ? 'Edit stay' : 'Add new stay'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.onSaveStay,\n        className: \"flex column align-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"stay name: \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            autoComplete: \"off\",\n            onChange: this.handleChange,\n            value: stay.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 28\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"price: \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"price\",\n            autoComplete: \"off\",\n            onChange: this.handleChange,\n            value: stay.price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 24\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"description: \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"desc\",\n            autoComplete: \"off\",\n            onChange: this.handleChange,\n            value: stay.desc\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"capacity: \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"capacity\",\n            autoComplete: \"off\",\n            onChange: this.handleChange,\n            value: stay.capacity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"stayType: \", /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"stayType\",\n            onChange: this.handleChange,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"entire place\",\n              children: \"entire place\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"private room\",\n              children: \"private room\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"propertyType:  \", /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"propertyType\",\n            onChange: this.handleChange,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"loft\",\n              children: \"loft\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"villa\",\n              children: \"villa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"appartment room\",\n              children: \"appartment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 32\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          name: \"TV\",\n          id: \"amenities\",\n          value: stay.amenities.TV,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"TV\",\n          children: \" TV\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          name: \"Wifi\",\n          id: \"amenities\",\n          value: stay.amenities.Wifi,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"Wifi\",\n          children: \"Wifi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          name: \"AC\",\n          id: \"amenities\",\n          value: stay.amenities.AC,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"AC\",\n          children: \"AC \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          name: \"Smoking_allowed\",\n          id: \"amenities\",\n          value: stay.amenities.Smoking_allowed,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"AC\",\n          children: \"Smoking_allowed \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          name: \"AC\",\n          id: \"amenities\",\n          value: stay.amenities.AC,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"AC\",\n          children: \"AC \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          name: \"AC\",\n          id: \"amenities\",\n          value: stay.amenities.AC,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"AC\",\n          children: \"AC \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"primary-btn\",\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    stays: state.stayModule.stays\n  };\n}\n\nconst mapDispatchToProps = {\n  addStay\n};\nexport const StayEdit = connect(mapStateToProps, mapDispatchToProps)(_StayEdit);","map":{"version":3,"sources":["C:/Users/Bar-PC/Desktop/sprint 4/src/cmps/dashboard/SaveStay.jsx"],"names":["React","Component","connect","stayService","addStay","TextField","Switch","FormControlLabel","_StayEdit","state","stay","name","imgUrls","price","desc","capacity","amenities","stayType","propertyType","host","_id","props","loggedInUser","fullname","imgUrl","loc","reviews","handleChange","target","console","log","value","id","checked","setState","onSaveStay","ev","preventDefault","onSelectAction","componentDidMount","loadStay","componentDidUpdate","prevProps","match","params","stayId","getById","then","render","TV","Wifi","AC","Smoking_allowed","mapStateToProps","stays","stayModule","mapDispatchToProps","StayEdit"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { stayService } from '../../services/stay-service'\r\nimport { addStay } from '../../store/actions/stayActions'\r\nimport { TextField, Switch, FormControlLabel } from '@material-ui/core'\r\n// import { makeStyles } from '@material-ui/core/styles';\r\n// import Button from '@material-ui/core/Button';\r\n// import IconButton from '@material-ui/core/IconButton';\r\n// import PhotoCamera from '@material-ui/icons/PhotoCamera';\r\nclass _StayEdit extends Component {\r\n    state = {\r\n        stay: {\r\n          \r\n            name: \"House Of Mor\",\r\n            imgUrls: [\r\n                \"https://a0.muscache.com/im/pictures/bd67daca-84a4-44e9-952d-11162ba76242.jpg?im_w=1200\",\r\n                \"https://a0.muscache.com/im/pictures/533919e9-d77c-4dfc-94a5-3b71d6c41792.jpg?im_w=720\",\r\n                \"https://a0.muscache.com/im/pictures/miso/Hosting-4869137/original/179b4e72-c3ed-4198-b274-bbc4c67276f2.jpeg?im_w=720\",\r\n                \"https://a0.muscache.com/im/pictures/miso/Hosting-4869137/original/efaab6c2-f21a-40aa-a32a-a37b08711af4.jpeg?im_w=720\",\r\n                \"https://a0.muscache.com/im/pictures/miso/Hosting-4869137/original/e5a8c40e-f26b-45fb-84c2-55845256e963.jpeg?im_w=720\"\r\n            ],\r\n            price: 80.00,\r\n            desc: \"Fantastic duplex apartment with three bedrooms, located in the historic area of Paris\",\r\n            capacity: 8,\r\n            // favorites: [\r\n            //     {\r\n            //         userId: \"u109\"\r\n            //     }\r\n            // ],\r\n            amenities :{\r\n\r\n                \"TV\":true,\r\n                \"Wifi\":false,\r\n                \"AC\":false,\r\n                \"Smoking allowed\":false,\r\n                \"Pets allowed\":false,\r\n                \"Cooking basics\":false\r\n            }\r\n            ,\r\n            stayType: \"entire place\",\r\n            propertyType: \"loft\",\r\n            host: {\r\n                _id:this.props.loggedInUser._id,\r\n                fullname:this.props.loggedInUser.fullname,\r\n                imgUrl:this.props.loggedInUser.imgUrl\r\n            },\r\n            loc: {\r\n                \"country\": \"France\",\r\n                \"countryCode\": \"PT\",\r\n                \"address\": \"Paris, France\",\r\n                \"lat\": -8.61308,\r\n                \"lng\": 41.1413\r\n            },\r\n            reviews: []\r\n        }\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        this.loadStay()\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        // if (prevProps.stays !== this.props.stays) {\r\n        //     this.props.onSelectAction('my places')\r\n        // }\r\n    }\r\n\r\n\r\n    loadStay() {\r\n        if(!this.props.match||!this.props.match.params)return \r\n        const { stayId } = this.props.match.params\r\n        if (stayId) {\r\n            stayService.getById(stayId).then((stay) => {\r\n                this.setState({ stay })\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    handleChange = ({ target }) => {\r\n        console.log( target.value);\r\n        // console.log( target.checked);\r\n        let { name, value ,id , checked} = target\r\n        value = (name === 'price') ? +value : value\r\n        if(id==='amenities'){\r\n            this.setState({ stay: { ...this.state.stay, amenities: {...this.state.stay.amenities, [name]: checked}} } )\r\n           \r\n        }else{\r\n            this.setState({ stay: { ...this.state.stay, [name]: value } })   \r\n        } \r\n        console.log(this.state.stay);\r\n    }\r\n\r\n    onSaveStay = (ev) => {\r\n        ev.preventDefault()\r\n        ev.target.value=\"my places\"\r\n        // console.log(e);\r\n        const { stay } = this.state\r\n        this.props.addStay(stay)\r\n        this.props.onSelectAction(ev)\r\n    }\r\n\r\n\r\n    render() {\r\n        const { stay } = this.state\r\n        if (!stay) return '' // LOADER\r\n        return (<div className=\"stay-edit full container flex column align-center\">\r\n            <h1>{stay._id ? 'Edit stay' : 'Add new stay'}</h1>\r\n            <form onSubmit={this.onSaveStay} className=\"flex column align-center\" >\r\n            <h3>stay name: <input type=\"text\" name=\"name\" autoComplete=\"off\" onChange={this.handleChange} value={stay.name} /></h3>\r\n            <h3>price: <input type=\"number\" name=\"price\" autoComplete=\"off\" onChange={this.handleChange} value={stay.price} /></h3>\r\n            <h3>description: <input type=\"text\" name=\"desc\" autoComplete=\"off\" onChange={this.handleChange} value={stay.desc} /></h3>\r\n            <h3>capacity: <input type=\"number\" name=\"capacity\" autoComplete=\"off\" onChange={this.handleChange} value={stay.capacity} /></h3>\r\n            <h3>stayType: <select name=\"stayType\" onChange={this.handleChange}>\r\n                <option value=\"entire place\">entire place</option>\r\n                <option value=\"private room\">private room</option>\r\n            </select></h3>\r\n            <h3>propertyType:  <select name=\"propertyType\" onChange={this.handleChange}>\r\n                <option value=\"loft\">loft</option>\r\n                <option value=\"villa\">villa</option>\r\n                <option value=\"appartment room\">appartment</option>\r\n            </select></h3>\r\n            <input type=\"checkbox\"  name=\"TV\" id=\"amenities\" value={stay.amenities.TV}   onChange={this.handleChange}/>\r\n            <label for=\"TV\"> TV</label>\r\n            <input type=\"checkbox\"  name=\"Wifi\" id=\"amenities\"  value={stay.amenities.Wifi} onChange={this.handleChange}/>\r\n            <label for=\"Wifi\">Wifi</label>\r\n            <input type=\"checkbox\"  name=\"AC\" id=\"amenities\"  value={stay.amenities.AC}  onChange={this.handleChange}/>\r\n            <label for=\"AC\">AC </label>\r\n            <input type=\"checkbox\"  name=\"Smoking_allowed\" id=\"amenities\"  value={stay.amenities.Smoking_allowed}  onChange={this.handleChange}/>\r\n            <label for=\"AC\">Smoking_allowed </label>\r\n            <input type=\"checkbox\"  name=\"AC\" id=\"amenities\"  value={stay.amenities.AC}  onChange={this.handleChange}/>\r\n            <label for=\"AC\">AC </label>\r\n            <input type=\"checkbox\"  name=\"AC\" id=\"amenities\"  value={stay.amenities.AC}  onChange={this.handleChange}/>\r\n            <label for=\"AC\">AC </label>\r\n                <button  className=\"primary-btn\">Save</button>\r\n            </form>\r\n        </div>)\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        stays: state.stayModule.stays\r\n    }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = {\r\n    addStay,\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport const StayEdit = connect(mapStateToProps, mapDispatchToProps)(_StayEdit)"]},"metadata":{},"sourceType":"module"}